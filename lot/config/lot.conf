#		Main Configuration
#
# charset of this file must be UTF-8 (need not to be escaped)
# ${targetbranch}# prefix will be trimed 
# e.g. trunk#property.name will be loaded as property.name property
#

#		default mode settings (preloaded)
# langpack, repack, venkman, chatzilla ...
default.package			= langpack
default.package.buildfile	= build.${default.package}.xml
# trunk, 1.9.1, 1.9.2
default.targetbranch		= 1.9.2

# firefox, thunderbird, fennec, sunbird, seamonkey
default.targetapp		= firefox
# ja, en-US etc
default.locale			= ja
default.encoding		= UTF-8


#		lot settings (preloaded)

#	lot information
lot.version		= 2.0b2
lot.name		= lot
lot.fullname		= Localization Tools
lot.creator		= dynamis

#	lot settings
lot.lang		= japanese
lot.user.name		= Mozilla Japanese L10N Community
lot.user.homepageURL	= http://trac.mozilla.l10n.jp/
lot.encoding.filters	= UTF-8

#	base directory settings
lot.src.dir		= src
lot.svn.dir		= ${lot.src.dir}
lot.hg.dir		= hg
lot.l10n.dir		= l10n
lot.dest.dir		= dest
lot.temp.dir		= temp
lot.res.dir		= res
lot.lang.dir		= ${lot.res.dir}/lang
lot.lang.file		= ${lot.lang.dir}/${lot.lang}.message
lot.log.dir		= log
lot.backup.dir		= backup
lot.diff.dir		= diff
lot.patch.dir		= ${lot.diff.dir}


#		repository dependent settings

#	subversion repository
trunk#svn.l10n.repo		= http://svn.mozilla.l10n.jp/trunk/
1.9.1#svn.l10n.repo		= http://svn.mozilla.l10n.jp/branches/l10n-mozilla-1.9.1
1.9.2#svn.l10n.repo		= http://svn.mozilla.l10n.jp/branches/l10n-mozilla-1.9.2
trunk#svn.l10n.ssh.repo		= svn+ssh://svn.mozilla.l10n.jp/usr/local/var/svn/l10n/trunk/
1.9.1#svn.l10n.ssh.repo		= svn+ssh://svn.mozilla.l10n.jp/usr/local/var/svn/l10n/branches/l10n-mozilla-1.9.1
1.9.2#svn.l10n.ssh.repo		= svn+ssh://svn.mozilla.l10n.jp/usr/local/var/svn/l10n/branches/l10n-mozilla-1.9.2
trunk#svn.l10n.userssh.repo	= svn+ssh://${svn.username}@svn.mozilla.l10n.jp/usr/local/var/svn/l10n/trunk/
1.9.1#svn.l10n.userssh.repo	= svn+ssh://${svn.username}@svn.mozilla.l10n.jp/usr/local/var/svn/l10n/branches/l10n-mozilla-1.9.1
1.9.2#svn.l10n.userssh.repo	= svn+ssh://${svn.username}@svn.mozilla.l10n.jp/usr/local/var/svn/l10n/branches/l10n-mozilla-1.9.2
svn.childbrowser.repo		= http://svn.mozilla.l10n.jp/branches/childbrowser
svn.childbrowser.ssh.repo	= svn+ssh://svn.mozilla.l10n.jp/usr/local/var/svn/childbrowser
svn.childbrowser.userssh.repo	= svn+ssh://${svn.username}@svn.mozilla.l10n.jp/usr/local/var/svn/childbrowser


#	mercurial repository
trunk#hg.mozilla.repo		= http://hg.mozilla.org/mozilla-central/
1.9.1#hg.mozilla.repo		= http://hg.mozilla.org/releases/mozilla-1.9.1/
1.9.2#hg.mozilla.repo		= http://hg.mozilla.org/releases/mozilla-1.9.2/
trunk#hg.comm.repo		= http://hg.mozilla.org/comm-central/
1.9.1#hg.comm.repo		= http://hg.mozilla.org/comm-central/
1.9.2#hg.comm.repo		= http://hg.mozilla.org/comm-central/
trunk#hg.mobile.repo		= http://hg.mozilla.org/mobile-browser/
1.9.1#hg.mobile.repo		= http://hg.mozilla.org/mobile-browser/
1.9.2#hg.mobile.repo		= http://hg.mozilla.org/mobile-browser/
hg.inspector.repo		= http://hg.mozilla.org/dom-inspector/
hg.venkman.repo			= http://hg.mozilla.org/venkman/
trunk#hg.l10n.repo.base		= http://hg.mozilla.org/l10n-central/
1.9.1#hg.l10n.repo.base		= http://hg.mozilla.org/releases/l10n-mozilla-1.9.1/
1.9.2#hg.l10n.repo.base		= http://hg.mozilla.org/releases/l10n-mozilla-1.9.2/

#	package/targetbranch dependent directory
# branch sub directory
trunk.subdir			= trunk
1.9.1.subdir			= 1.9.1
1.9.2.subdir			= 1.9.2
trunk#branch.subdir		= ${trunk.subdir}
1.9.1#branch.subdir		= ${1.9.1.subdir}
1.9.2#branch.subdir		= ${1.9.2.subdir}
# working directory
svn.trunk.dir			= ${lot.svn.dir}/${trunk.subdir}
#trunk#svn.l10n.dir		= ${lot.svn.dir}/trunk
#1.9.1#svn.l10n.dir		= ${lot.svn.dir}/branches/l10n-mozilla-1.9.1
#1.9.2#svn.l10n.dir		= ${lot.svn.dir}/branches/l10n-mozilla-1.9.2
svn.l10n.dir			= ${lot.svn.dir}/${branch.subdir}
svn.childbrowser.dir		= ${lot.svn.dir}/childbrowser
#hg.comm.dir			= ${lot.hg.dir}/${branch.subdir}
trunk#hg.comm.dir		= ${lot.hg.dir}/comm-central
1.9.1#hg.comm.dir		= ${lot.hg.dir}/comm-1.9.1
1.9.2#hg.comm.dir		= ${lot.hg.dir}/comm-1.9.2
hg.mozilla.dir			= ${hg.comm.dir}/mozilla
hg.mobile.dir			= ${lot.hg.dir}/mobile-browser
hg.l10n.dir			= ${l10n.dir}
#trunk#hg.l10n.dir		= ${lot.hg.dir}/l10n-central
#1.9.1#hg.l10n.dir		= ${lot.hg.dir}/l10n-mozilla-1.9.1
#1.9.2#hg.l10n.dir		= ${lot.hg.dir}/l10n-mozilla-1.9.2
l10n.dir			= ${lot.l10n.dir}/${branch.subdir}
en-US.dir			= ${l10n.dir}/en-US
dest.dir			= ${lot.dest.dir}/${branch.subdir}


#		package infomation

#	config files
config.package.file		= ${config.dir}/${package}.conf


#	target products versions
# http://hg.mozilla.org/mozilla-central/file/tip/browser/app/module.ver
# http://hg.mozilla.org/releases/mozilla-1.9.1/file/tip/browser/app/module.ver
# http://hg.mozilla.org/comm-central/file/tip/mail/app/module.ver
# http://hg.mozilla.org/mobile-browser/file/tip/confvars.sh
# http://hg.mozilla.org/comm-central/file/tip/calendar/sunbird/app/module.ver
# http://hg.mozilla.org/comm-central/file/tip/suite/app/module.ver
1.9.1#firefox.version		= 3.5
1.9.2#firefox.version		= 3.6b1pre
trunk#firefox.version		= 3.7a1pre
1.9.1#thunderbird.version	= 3.0b4pre
1.9.2#thunderbird.version	= 
trunk#thunderbird.version	= 3.1a1pre
#fennec.version			= 1.0a3
fennec.version			= 1.0b4pre
sunbird.version			= 1.0pre
seamonkey.version		= 2.0a2pre


#	l10n revisions
# Firefox 2.0 = L10N 2.0.0.0 = L10N 1.5.21 
# the last release for mozilla1.8 = 2.0.0.5
# Firefox 3.0 = L10N 3.0.0.0 = L10N 2.0.x
# Firefox 3.5 = L10N 3.5.0.0 = L10N 3.0.x
l10n.revision			= 3.5.${tstamp.yyyyMMddHH}

firefox.langpack.revision	= ${l10n.revision}
thunderbird.langpack.revision	= 2.0.${tstamp.yyyyMMddHH}
fennec.langpack.revision	= 0.0.${tstamp.yyyyMMddHH}
sunbird.langpack.revision	= 0.9.${tstamp.yyyyMMddHH}
seamonkey.langpack.revision	= 1.1.${tstamp.yyyyMMddHH}


#		common configration

#	filetypes
imgfiles			= **/*.png, **/*.gif, **/*.jpeg, **/*.jpg, **/*.ico
binfiles			= **/*.jar, **/*.xpi, **/*.zip, **/*.tar, **/*.gz, **/*.tgz, **/*.dmg, \
				  **/*.xpt, **/*.dll, **/*.exe, ${imgfiles}
xmlfiles			= **/*.xml, **/*.html, **/*.xhtml, **/*.rdf
txtfiles			= ${utf8files}, **/*.txt, **/*.js, **/*.css, **/*.groovy, \
				  **/*.inc, **/*.nsh, **/*ini, **/*.it, **/*.mk, **/*.manifest, **/*.mn, **/*.src, **/*.diff
utf8files			= ${xmlfiles}, **/*.dtd, **/*.properties
sjisfiles			= **/windows/*.it

#	l10n files
common.l10n.includes		= dom/, netwerk/, security/, toolkit/
firefox.l10n.includes		= browser/, extensions/reporter/, extensions/spellcheck/, other-licenses/branding/firefox/
#firefox.l10n.excludes		= 
thunderbird.l10n.includes	= editor/, mail/, other-licenses/branding/thunderbird/
#thunderbird.l10n.excludes	= 
fennec.l10n.includes		= mobile/
#fennec.l10n.excludes		= 
sunbird.l10n.includes		= calendar/, other-licenses/branding/sunbird/
#sunbird.l10n.excludes		= 
seamonkey.l10n.includes		= editor/, extensions/irc/, extensions/reporter/, extensions/spellcheck/, extensions/venkman/, suite/
#seamonkey.l10n.excludes		= 

#	errorcheck

pluralcheck.allow		= &gt;|&lt;|&brandShortName;|';'|";"|;-\\)|-moz-inline-box;|style="[^"]+"|^(html|text|image)Filter.+
pluralcheck.allow.replace	= ##ALLOWED_PHRASE##

# string matching with deny except matching with allow will cause word check error
wordcheck.deny.common		= @{2}|\\\\[^0-9a-zA-Z "'\\\\]|%[0-9]%S|\\$[0-9][%$]S|[＃＄％＆’“”−＝＠；：＾￥｜＊…・･【】]|、、|。。|。:|\\(&[a-z]\\)|\\.{4,}|或いは|(と)言う|いけません|インターフェース|ウイルス|ウ(ェ|エ)ブ|援助|大文字小文字|お問い合わせ|(ヶ|ケ|ヵ|か|個|箇)月|許諾所|切替|下さい|個人(の|用)(電子)?証明書|毎(に|の)|コンテクスト|コンマ|サーバー|再読込|更に|市町村|実態|知れ(ない|ません)|既に|全て|ソフトウエア|訊ね|出来ます|たいてい|大概|但し|為|出来(た|ま|る)|電子署名|電子メール|(す|た|る)時に|時(は|や)|(と)共に|並び替え|認証元|ネームスペース|覗(き|く)|廃棄|破棄リスト|発行元|フィルター|複合|復号化|プレインテキスト|プロクシ|殆ど|万一|身分|文字(エン)?コード|もっと(?!も)|ユーザー|れいて|をを
wordcheck.deny.ja		= ${wordcheck.deny.common}|アシスタント|ウインドウ|書き出|拡大／縮小|カット|区切り線|ゴミ箱|指紋|新規タブ|すべてを選択|手前|取り消(す|します)|フルスクリーン|ペースト|別名で
wordcheck.deny.ja-JP-mac	= ${wordcheck.deny.common}|新しいタブ|インポート|ウィザード|ウィンドウ|エクスポート|拡大/縮小|既定|切り取り|ごみ箱|最小化|最前面|すべて選択|全画面表示|前面|名前を付けて|背面|配色|貼り付け|元に戻

wordcheck.deny.firefox		= ##NO_FIREFOX_SPECIFIC_WORD##
wordcheck.deny.thunderbird	= ##NO_THUNDERBIRD_SPECIFIC_WORD##
wordcheck.deny.fennec		= ##NO_FENNEC_SPECIFIC_WORD##
wordcheck.deny.sunbird		= イベント|タスク
wordcheck.deny.seamonkey	= ##NO_SEAMONKEY_SPECIFIC_WORD##

wordcheck.suspected.ja		= 後ろ|新規(?!作成)|デフォルト|プリント|やり直す
wordcheck.suspected.ja-JP-mac	= \\[|\\]|新しい|印刷|プロパティ|参照|やり直し

# Java では (?<=Mixed.{1,100})複合 のように範囲指定(や無制限)量指定子を後方参照中で使うことはできない
wordcheck.allow.common		= >%01<\\\\\\\\1 -- >%05<\\\\\\\\5 -- >%10<\\\\\\\\10| ＠ <|<strong>\\\\</strong>|・ビューアー|`` を “ に|'' を ” に|intl\\.ellipsis *= *…|goo ウェブ|(?<=ブラウズ)時は|(?<=</em>)と共に|取り消す(?=か|こと)|変更に|(Mixed.*)複合|ユーザー(?=補助のオプション)
wordcheck.allow.ja		= ${wordcheck.allow.common}|(?<=ショート|マス)カット|管理アシスタント|フルスクリーンモード|別名です
wordcheck.allow.ja-JP-mac	= ${wordcheck.allow.common}|“|”|(?<=から)切り取り|(?<=分かりやすい)名前を付けて|名前を付けて(?=区別)|(?<=に|を)貼り付け|(?<=fullScreenRestore.tooltip\\s{1,10}?")元に戻す(?=")|(?<=すると|を)元に戻す|元に戻す(?= \\(復号\\)|ことは)|(?<=一切)元に戻せません|やり直します

wordcheck.deny.replace		= [WORDERROR[$0]WORDERROR]
wordcheck.allow.replace		= ##ALLOWED_WORD##

# [!-~] = [!"#$%&'()*+,-./0123456789:;<=>?@ABC ... XYZ[\]^_`abc ... xyz{|}~]
charcheck.basechars		= \\s!-~ぁ-んァ-ンヴー、。！？～〜－＋×「」»—“”
charcheck.deny.kanji.hiragana	= [^${charcheck.basechars}]+
# 学習指導要領小学校1〜6年, 常用漢字表, 新聞漢字表
charcheck.deny.kanji.junior1	= [^${charcheck.basechars}${kanji.junior1}]+
charcheck.deny.kanji.junior2	= [^${charcheck.basechars}${kanji.junior2}]+
charcheck.deny.kanji.junior3	= [^${charcheck.basechars}${kanji.junior3}]+
charcheck.deny.kanji.junior4	= [^${charcheck.basechars}${kanji.junior4}]+
charcheck.deny.kanji.junior5	= [^${charcheck.basechars}${kanji.junior5}]+
charcheck.deny.kanji.junior6	= [^${charcheck.basechars}${kanji.junior6}]+
charcheck.deny.kanji.jyouyou	= [^${charcheck.basechars}${kanji.jyouyou}々]+
charcheck.deny.kanji.news	= [^${charcheck.basechars}${kanji.news}々]+

charcheck.deny			= ${charcheck.deny.kanji.news}
# 固有名詞中でのみ許可する文字、コンピュータ上では慣用的に使用される文字、文脈依存例外
charcheck.allow			= 宛[にの先]|韓国|拡大／縮小|啓蒙|脆弱性|貼り付け|\
				  △マーク|SolidCircle\\s*=\\s*●|OpenCircle\\s*=\\s*○|SolidSquare\\s*=\\s*■|\
				  VK_UP=↑|VK_DOWN=↓|VK_LEFT=←|VK_RIGHT=→|\
				  intl.ellipsis\\s*=\\s*…|(イメージ|テキスト)・ビューアー

charcheck.deny.replace		= [CHARERROR[$0]CHARERROR]
charcheck.allow.replace		= ##ALLOWED_WORD##


#		auxiliary targets config

#	start working
trunk#download.en-US.url.dir	= http://ftp-developer.mozilla-japan.org/pub/mozilla-japan/l10n-tools/resources/central/en-US
1.9.1#download.en-US.url.dir	= http://ftp-developer.mozilla-japan.org/pub/mozilla-japan/l10n-tools/resources/mozilla-1.9.1/en-US
1.9.2#download.en-US.url.dir	= http://ftp-developer.mozilla-japan.org/pub/mozilla-japan/l10n-tools/resources/mozilla-1.9.2/en-US
download.en-US.filename		= en-US-rev${download.en-US.rev}.zip
download.en-US.latestfilename	= en-US-latest.zip

#	error check suite
alllocale.list			= af, ar, as, be, bg, bn-BD, bn-IN, ca, cs, cy, da, de, el, en-GB, eo, es-AR, es-ES, es-MX, et, eu, fa, fi, fr, fy-NL, ga-IE, gl, gu-IN, he, hi-IN, hr, hu, id, is, it, ka, kk, kn, ko, ku, lt, lv, mk, ml, mn, mr, ms, nb-NO, nl, nn-NO, oc, or, pa-IN, pl, pt-BR, pt-PT, ro, ru, si, sk, sl, sq, sr, sv-SE, ta, ta-LK, te, th, tr, uk, vi, zh-CN, zh-TW
#alllocale.list			= af, ar, as, be, bg, bn-BD, bn-IN, ca, cs, cy, da, de, el, en-GB, eo, es-AR, es-ES, es-MX, et, eu, fa, fi, fr, fy-NL, ga-IE, gl, gu-IN, he, hi-IN, hr, hu, id, is, it, ja, ja-JP-mac, ka, kk, kn, ko, ku, lt, lv, mk, ml, mn, mr, ms, nb-NO, nl, nn-NO, oc, or, pa-IN, pl, pt-BR, pt-PT, ro, ru, si, sk, sl, sq, sr, sv-SE, ta, ta-LK, te, th, tr, uk, vi, zh-CN, zh-TW
alllocale.config.dir		= config/locales



#	backup/restore

#nobackup			= true
backupsrc.includes		= config/, ${lot.src.dir}/
backupsrc.excludes		= config/user.conf, config/user.*.conf, **/.DS_Store, **/._*
backupsrc.dir			= ${lot.backup.dir}
backupsrc.filename		= src-${tstamp.yyyyMMddHH}.zip
backupsrc.file			= ${backupsrc.dir}/${backupsrc.filename}

backuplot.includes		= config/, ${lot.res.dir}/, ${lot.src.dir}/langpack/, \
				  antlib/, *.jar, *.xml, *.txt, *.groovy, *.pl, *.py, *.cmd
backuplot.excludes		= config/user.conf, config/user.*.conf, **/.DS_Store, **/._*
backuplot.dir			= ${lot.backup.dir}
backuplot.filename		= lot-${lot.version}.${tstamp.yyyyMMddHH}.zip
backuplot.file			= ${backuplot.dir}/${backuplot.filename}

backup.includes			= config/, ${lot.res.dir}/, ${lot.src.dir}/, l10n/, \
				  antlib/, *.jar, *.xml, *.txt, *.groovy, *.pl, *.py, *.cmd
backup.excludes			= config/user.conf, config/user.*.conf, **/.DS_Store, **/._*
backup.dir			= ${lot.backup.dir}
backup.filename			= lot+src-${lot.version}.${tstamp.yyyyMMddHH}.zip
backup.file			= ${backup.dir}/${backup.filename}


#norestore			= true
restoresrc.dir			= ${backupsrc.dir}
restoresrc.filename		= src.zip
restoresrc.file			= ${restoresrc.dir}/${restoresrc.filename}

restorelot.dir			= ${backuplot.dir}
restorelot.filename		= lot.zip
restorelot.file			= ${restorelot.dir}/${restorelot.filename}


#	escape/unescape
escape.fromdir			= escapefrom
escape.todir			= escapeto
escape.includes			= **
escape.excludes			= 
escape.escapeincludes		= **/*.properties
escape.escapeexcludes		= 
escape.encoding			= ${default.encoding}

unescape.fromdir		= unescapefrom
unescape.todir			= unescapeto
unescape.includes		= **
unescape.excludes		= 
unescape.unescapeincludes	= **/*.properties
unescape.unescapeexcludes	= 
unescape.encoding		= ${default.encoding}



#		diff targets config

#	diff/patch
diff.option			= -r -U 5 -N -d
diff.fromdir			= ${lot.src.dir}/l10n/ja.old
diff.todir			= ${lot.src.dir}/l10n/ja.new
diff.output.dir			= ${patch.dir}
diff.output.filename		= lot-${lot.version}-${tstamp.yyyyMMdd}.patch
diff.output			= ${diff.output.dir}/${diff.output.filename}

patch.dir			= ${lot.patch.dir}/${package}
patch.filename			= feedback.patch
patch.file			= ${lot.patch.dir}/${package}/${patch.filename}

#	diff revisions/branches
diff.l10n.includes		= *

diff.download.output		= ${l10n.dir}/en-US-${diff.download.rev1}-${diff.download.rev2}.diff
diff.en-US.dir1			= ${en-US.dir}-rev${diff.mozilla.rev1}+${diff.comm.rev1}
diff.en-US.dir2			= ${en-US.dir}-rev${diff.mozilla.rev2}+${diff.comm.rev2}
diff.revisions.output		= ${l10n.dir}/en-US-${diff.mozilla.revn1}+${diff.comm.revn1}-${diff.mozilla.revn2}+${diff.comm.revn2}.diff
diff.revisions.option		= ${diff.option}


